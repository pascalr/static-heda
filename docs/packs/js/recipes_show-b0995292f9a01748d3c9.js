!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/packs/",n(n.s=148)}({148:function(e,t){function n(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return u=e.done,e},e:function(e){c=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw o}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t,n){return e.reduce((function(e,r){var a=[t(r),r];return e&&n.apply(null,[e[0],a[0]])==e[0]?e:a}),null)[1]}function i(e){return JSON.parse(document.getElementById("unit-list").dataset.values).find((function(t){return t.name==e}))}function o(e){return JSON.parse(document.getElementById("ingredient-list").dataset.values)[e]}function u(e){var t=[0,1/8,1/4,1/3,.5,2/3,3/4,7/8,1],n=parseInt(e,10),r=e%1,i=a(t,(function(e){return Math.abs(r-e)}),Math.min);if(0==i)return n.toString();if(1==i)return(n+1).toString();var o=["0","1/8","1/4","1/3","1/2","2/3","3/4","7/8","1"][t.indexOf(i)];return 0==n?o:"".concat(n," ").concat(o)}function c(e){return e?e>=1e3?"".concat(d(e/1e3)," kg"):"".concat(d(e)," g"):""}function l(e){return e?e>=1e3?"".concat(d(e/1e3)," L"):"".concat(d(e)," mL"):""}function d(e){return Math.round(100*e)/100}function s(e,t){return e?t&&e>=1e3?"".concat(u(e/1e3)," ").concat("L"):e>=60?"".concat(u(e/250)," ").concat("t"):e>=15?"".concat(u(e/15)," ").concat("c. \xe0 soupe"):e>=5/8?"".concat(u(e/5)," ").concat("c. \xe0 th\xe9"):"".concat(u(e/.31)," ").concat("pinc\xe9e"):""}function f(e){var t="<a href='/foods/"+e.dataset.foodId+"'>"+e.dataset.foodNameSingular+"</a> ";if(null==e.dataset.raw||""==e.dataset.raw)return t;var n=y(e.dataset.raw),r=i(n[1]),a=n[0]*window.scale;if(r&&(a*=r.value),r&&r.is_weight)var o=c(a)+" ";else if(r&&r.is_volume)o=s(a)+" ";else{o=u(a)+" ";r&&(o+=r.name+" ")}return r&&e.dataset.preposition&&(o+=e.dataset.preposition),(!r||!r.is_volume&&!r.is_weight)&&a>1?o+="<a href='/foods/"+e.dataset.foodId+"'>"+e.dataset.foodNamePlural+"</a> ":o+=t,o}function v(e){var t=f(e);if(null==e.dataset.raw||""==e.dataset.raw)return t;var n=i(y(e.dataset.raw)[1]),r=e.dataset.grams*window.scale,a=e.dataset.ml*window.scale;return t+="<span class='ingredient-details'>(",n&&n.is_weight?t+="".concat(s(a)," | ").concat(l(a)):n&&n.is_volume?t+="".concat(l(a)," | ").concat(c(r)):t+="".concat(s(a)," | ").concat(l(a)," | ").concat(c(r)),t+=")</span>"}function m(e){var t=e.split("/");return t[0]/t[1]}function g(e){if(!e)return null;var t=e.trim();if(t.includes("/")){if(t.includes(" ")){var n=t.split(" "),r=n[0],a=n[1];return parseInt(r,10)+m(a)}return m(t)}return parseFloat(t)}function y(e){if(!e)return null;var t=e.match(/^\d+( \d)?([,.\/]\d+)?/g)[0],n=e.substr(t.length).trim();return[g(t),n]}function p(e){if(!e)return"";var t=y(e),n=t[0],r=t[1],a=d(n*window.scale);return r?a+" "+r:a}function w(){var e,t=n(document.querySelectorAll("[data-scalable-qty]"));try{for(t.s();!(e=t.n()).done;){var r=e.value,a=r.dataset.scalableQty;r.innerHTML=""+u(a*window.scale)}}catch(i){t.e(i)}finally{t.f()}}function h(){var e,t=n(document.querySelectorAll("[data-scalable-volume]"));try{for(t.s();!(e=t.n()).done;){var r=e.value,a=r.dataset.scalableVolume;r.innerHTML=""+s(a*window.scale,r.dataset.isLiquid)}}catch(i){t.e(i)}finally{t.f()}}function b(){var e,t=n(document.querySelectorAll("[data-scalable-weight]"));try{for(t.s();!(e=t.n()).done;){var r=e.value,a=r.dataset.scalableWeight;r.innerHTML=""+c(a*window.scale)}}catch(i){t.e(i)}finally{t.f()}}function S(){var e,t=n(document.querySelectorAll("[data-scalable-ingredient-detailed]"));try{for(t.s();!(e=t.n()).done;){var r=e.value;r.innerHTML=""+v(r)}}catch(a){t.e(a)}finally{t.f()}}function E(){var e,t=n(document.querySelectorAll("[data-scalable-ingredient]"));try{for(t.s();!(e=t.n()).done;){var r=e.value;r.innerHTML=""+f(r)}}catch(a){t.e(a)}finally{t.f()}}document.addEventListener("DOMContentLoaded",(function(e){var t=document.getElementById("servings-quantity-value");window.originalServings=parseInt(t.innerHTML),window.currentServings=window.originalServings,window.scale=1;var n=document.getElementById("less-servings-button"),r=document.getElementById("more-servings-button"),a=document.getElementById("servings-input-field"),c=document.getElementById("ingredient-qty-input-field"),l=document.getElementById("input-ingredients");r.addEventListener("click",(function(e){var t=y(a.value),n=t[0],r=t[1],i=n<1?2*n:n+1;i<.125&&(i=.125),a.value=u(i)+" "+r,(e=new Event("change")).forced=!0,a.dispatchEvent(e)})),n.addEventListener("click",(function(e){var t=y(a.value),n=t[0],r=t[1],i=n<=1?n/2:n-1;i<.125&&(i=.125),a.value=u(i)+" "+r,(e=new Event("change")).forced=!0,a.dispatchEvent(e)})),c.addEventListener("change",(function(e){var t,n=y(c.value),r=n[0],a=i(n[1]),u=o(l.value),d=function(e,t,n,r){return t?t.is_weight?e*t.value:t.is_volume?e*t.value*r:e*t.value*n:e*n}(r,a,u.unit_weight,u.density);window.scale=d/u.grams,(t=document.getElementById("servings-input-field")).value=p(t.dataset.initial),w(),h(),b(),E(),S()})),a.addEventListener("change",(function(e){var t,n=y(a.dataset.initial),r=n[0],i=n[1],o=y(a.value)[0];a.value=(e.forced?u(o):o.toString())+" "+i,window.scale=o/r,(t=document.getElementById("ingredient-qty-input-field")).value=p(t.dataset.quantity),w(),h(),b(),E(),S()})),l.addEventListener("change",(function(e){var t=o(l.value);c.value=p(t.raw)}))}))}});
//# sourceMappingURL=recipes_show-b0995292f9a01748d3c9.js.map