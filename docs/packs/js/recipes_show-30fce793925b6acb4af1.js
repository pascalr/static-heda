!function(e){var n={};function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)t.d(r,a,function(n){return e[n]}.bind(null,a));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/packs/",t(t.s=148)}({148:function(e,n){function t(e,n){var t;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"===typeof e)return r(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return r(e,n)}(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,u=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return c=e.done,e},e:function(e){u=!0,o=e},f:function(){try{c||null==t.return||t.return()}finally{if(u)throw o}}}}function r(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function a(e,n,t){return e.reduce((function(e,r){var a=[n(r),r];return e&&t.apply(null,[e[0],a[0]])==e[0]?e:a}),null)[1]}function i(e){return JSON.parse(document.getElementById("unit-list").dataset.values).find((function(n){return n.name==e}))}function o(e){return JSON.parse(document.getElementById("ingredient-list").dataset.values)[e]}function c(e){var n=[0,1/8,1/4,1/3,.5,2/3,3/4,7/8,1],t=parseInt(e,10),r=e%1,i=a(n,(function(e){return Math.abs(r-e)}),Math.min);if(0==i)return t.toString();if(1==i)return(t+1).toString();var o=["0","1/8","1/4","1/3","1/2","2/3","3/4","7/8","1"][n.indexOf(i)];return 0==t?o:"".concat(t," ").concat(o)}function u(e){return e?e>=1e3?"".concat(d(e/1e3)," kg"):"".concat(d(e)," g"):""}function l(e){return e?e>=1e3?"".concat(d(e/1e3)," L"):"".concat(d(e)," mL"):""}function d(e){return Number.parseFloat(Number.parseFloat(e).toPrecision(3))}function s(e,n){return e?n&&e>=1e3?"".concat(c(e/1e3)," ").concat("L"):e>=60?"".concat(c(e/250)," ").concat("t"):e>=15?"".concat(c(e/15)," ").concat("c. \xe0 soupe"):e>=5/8?"".concat(c(e/5)," ").concat("c. \xe0 th\xe9"):"".concat(c(e/.31)," ").concat("pinc\xe9e"):""}function f(e){var n="<a href='/foods/"+e.dataset.foodId+"'>"+e.dataset.foodNameSingular+"</a> ";if(null==e.dataset.raw||""==e.dataset.raw)return n;var t=g(e.dataset.raw),r=i(t[1]),a=t[0]*window.scale;if(r&&(a*=r.value),r&&r.is_weight)var o=u(a)+" ";else if(r&&r.is_volume)o=s(a)+" ";else{o=c(a)+" ";r&&(o+=r.name+" ")}return r&&e.dataset.preposition&&(o+=e.dataset.preposition),(!r||!r.is_volume&&!r.is_weight)&&a>1?o+="<a href='/foods/"+e.dataset.foodId+"'>"+e.dataset.foodNamePlural+"</a> ":o+=n,e.dataset.comment&&(o+=" "+e.dataset.comment+" "),o}function v(e){var n=f(e);if(null==e.dataset.raw||""==e.dataset.raw)return n;var t=i(g(e.dataset.raw)[1]),r=e.dataset.grams*window.scale,a=e.dataset.ml*window.scale;return n+="<span class='ingredient-details'>(",t&&t.is_weight?n+="".concat(s(a)," \xb7 ").concat(l(a)):t&&t.is_volume?n+="".concat(l(a)," \xb7 ").concat(u(r)):n+="".concat(u(r)),n+=")</span>"}function m(e){var n=e.split("/");return n[0]/n[1]}function y(e){if(!e)return null;var n=e.trim();if(n.includes("/")){if(n.includes(" ")){var t=n.split(" "),r=t[0],a=t[1];return parseInt(r,10)+m(a)}return m(n)}return parseFloat(n)}function g(e){if(!e)return null;var n=e.match(/^\d+( \d)?([,.\/]\d+)?/g)[0],t=e.substr(n.length).trim();return[y(n),t]}function p(e){if(!e)return"";var n=g(e),t=n[0],r=n[1],a=c(t*window.scale);return r?a+" "+r:a}function w(){var e,n=t(document.querySelectorAll("[data-scalable-qty]"));try{for(n.s();!(e=n.n()).done;){var r=e.value,a=r.dataset.scalableQty;r.innerHTML=""+c(a*window.scale)}}catch(i){n.e(i)}finally{n.f()}}function h(){var e,n=t(document.querySelectorAll("[data-scalable-volume]"));try{for(n.s();!(e=n.n()).done;){var r=e.value,a=r.dataset.scalableVolume;r.innerHTML=""+s(a*window.scale,r.dataset.isLiquid)}}catch(i){n.e(i)}finally{n.f()}}function b(){var e,n=t(document.querySelectorAll("[data-scalable-weight]"));try{for(n.s();!(e=n.n()).done;){var r=e.value,a=r.dataset.scalableWeight;r.innerHTML=""+u(a*window.scale)}}catch(i){n.e(i)}finally{n.f()}}function E(){var e,n=t(document.querySelectorAll("[data-scalable-ingredient-detailed]"));try{for(n.s();!(e=n.n()).done;){var r=e.value;r.innerHTML=""+v(r)}}catch(a){n.e(a)}finally{n.f()}}function S(){var e,n=t(document.querySelectorAll("[data-scalable-ingredient]"));try{for(n.s();!(e=n.n()).done;){var r=e.value;r.innerHTML=""+f(r)}}catch(a){n.e(a)}finally{n.f()}}function L(e,n){var t=document.getElementById("active-filters");0==t.childElementCount&&(t.innerHTML=""),t.appendChild(function(e,n){var t=document.createElement("span");return t.className="filter-"+e,t.innerHTML=n+" X",t.addEventListener("click",(function(e){t.remove()})),t}(e,n))}document.addEventListener("DOMContentLoaded",(function(e){var n=document.getElementById("servings-quantity-value");window.originalServings=parseInt(n.innerHTML),window.currentServings=window.originalServings,window.scale=1;var r,a=document.getElementById("less-servings-button"),u=document.getElementById("more-servings-button"),l=document.getElementById("servings-input-field"),d=document.getElementById("ingredient-qty-input-field"),s=document.getElementById("input-ingredients"),f=t(document.querySelectorAll(".filter-add-red-ing-link"));try{var v=function(){var e=r.value;e.addEventListener("click",(function(n){L("red",e.innerHTML)}))};for(f.s();!(r=f.n()).done;)v()}catch(A){f.e(A)}finally{f.f()}var m,y=t(document.querySelectorAll(".filter-add-green-diet-link"));try{var I=function(){var e=m.value;e.addEventListener("click",(function(n){L("green",e.innerHTML)}))};for(y.s();!(m=y.n()).done;)I()}catch(A){y.e(A)}finally{y.f()}var M,_=t(document.querySelectorAll(".filter-add-green-ing-link"));try{var q=function(){var e=M.value;e.addEventListener("click",(function(n){L("green",e.innerHTML)}))};for(_.s();!(M=_.n()).done;)q()}catch(A){_.e(A)}finally{_.f()}u.addEventListener("click",(function(e){var n=g(l.value),t=n[0],r=n[1],a=t<1?2*t:t+1;a<.125&&(a=.125),l.value=c(a)+" "+r,(e=new Event("change")).forced=!0,l.dispatchEvent(e)})),a.addEventListener("click",(function(e){var n=g(l.value),t=n[0],r=n[1],a=t<=1?t/2:t-1;a<.125&&(a=.125),l.value=c(a)+" "+r,(e=new Event("change")).forced=!0,l.dispatchEvent(e)})),d.addEventListener("change",(function(e){var n,t=g(d.value),r=t[0],a=i(t[1]),c=o(s.value),u=function(e,n,t,r){return n?n.is_weight?e*n.value:n.is_volume?e*n.value*r:e*n.value*t:e*t}(r,a,c.unit_weight,c.density);window.scale=u/c.grams,(n=document.getElementById("servings-input-field")).value=p(n.dataset.initial),w(),h(),b(),S(),E()})),l.addEventListener("change",(function(e){var n,t=g(l.dataset.initial),r=t[0],a=t[1],i=g(l.value)[0];l.value=(e.forced?c(i):i.toString())+" "+a,window.scale=i/r,(n=document.getElementById("ingredient-qty-input-field")).value=p(n.dataset.quantity),w(),h(),b(),S(),E()})),s.addEventListener("change",(function(e){var n=o(s.value);d.value=p(n.raw)}))}))}});
//# sourceMappingURL=recipes_show-30fce793925b6acb4af1.js.map